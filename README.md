ç¼–å†™ä¸€ä»½æ¸…æ™°ã€ä¸“ä¸šçš„ `README.md` æ˜¯é¡¹ç›®å·¥ç¨‹åŒ–éå¸¸é‡è¦çš„ä¸€æ­¥ã€‚å®ƒä¸ä»…æ˜¯ä½ è‡ªå·±æœªæ¥çš„å¤‡å¿˜å½•ï¼Œä¹Ÿæ˜¯å›¢é˜Ÿåä½œæˆ–å¼€æºå±•ç¤ºçš„é—¨é¢ã€‚

åŸºäºæˆ‘ä»¬æ„å»ºçš„ **QuantProject 2.0** æ¶æ„ï¼Œæˆ‘ä¸ºä½ æ’°å†™äº†ä¸€ä»½å®Œæ•´çš„ README æ¨¡æ¿ã€‚ä½ å¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `README.md` æ–‡ä»¶ä¸­ã€‚

-----

# QuantProject 2.0 - æ¨¡å—åŒ–é‡åŒ–äº¤æ˜“ç³»ç»Ÿ

**QuantProject 2.0** æ˜¯ä¸€ä¸ªåŸºäº Python å¼€å‘çš„å·¥ç¨‹åŒ–é‡åŒ–äº¤æ˜“æ¡†æ¶ã€‚å®ƒé‡‡ç”¨åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œå®ç°äº†æ•°æ®é‡‡é›†ã€å› å­è®¡ç®—ã€ç­–ç•¥ç ”ç©¶ä¸å®ç›˜äº¤æ˜“çš„å®Œå…¨è§£è€¦ã€‚

æœ¬æ¡†æ¶æ ¸å¿ƒç‰¹ç‚¹ï¼š

  * **å¤šæºå¼‚æ„æ•°æ®æ”¯æŒ**ï¼šé€šè¿‡é€‚é…å™¨æ¨¡å¼ï¼ˆAdapterï¼‰ç»Ÿä¸€ç®¡ç† QMTã€Tushare ç­‰ä¸åŒæ•°æ®æºã€‚
  * **äº§ç ”åˆ†ç¦»**ï¼šç­–ç•¥é€»è¾‘ï¼ˆLogicï¼‰ä¸ç­–ç•¥äº§å‡ºï¼ˆArtifacts/è‚¡ç¥¨æ± ï¼‰ç‰©ç†åˆ†ç¦»ï¼Œä¾¿äºå›æº¯ä¸ç»„åˆç®¡ç†ã€‚
  * **æ ‡å‡†åŒ–æ•°æ®æµ**ï¼šå…¨é“¾è·¯é‡‡ç”¨ Parquet å­˜å‚¨ä¸æ ‡å‡† BarData ç»“æ„ï¼Œç¡®ä¿å›æµ‹ä¸å®ç›˜çš„ä¸€è‡´æ€§ã€‚
  * **Aè‚¡ç‰¹è‰²é€‚é…**ï¼šå†…ç½®ç²¾ç¡®çš„Aè‚¡æ¶¨è·Œåœä»·æ ¼è®¡ç®—ï¼ˆå¤„ç†å››èˆäº”å…¥ç²¾åº¦é—®é¢˜ï¼‰åŠ ST è‚¡è¿‡æ»¤é€»è¾‘ã€‚

-----

## ğŸ“‚ ç›®å½•ç»“æ„è¯´æ˜

```text
QuantProject/
â”œâ”€â”€ config/                     # [é…ç½®ä¸­å¿ƒ]
â”‚   â”œâ”€â”€ account_config.py       # è´¦å·ã€Tokenã€å®ç›˜/å›æµ‹å¼€å…³ (æ•æ„Ÿä¿¡æ¯)
â”‚   â”œâ”€â”€ path_config.py          # è‡ªåŠ¨è·¯å¾„å®šä½ (æ— éœ€æ‰‹åŠ¨ä¿®æ”¹)
â”‚   â””â”€â”€ system_config.yaml      # ç³»ç»Ÿçº§å‚æ•°
â”œâ”€â”€ common/                     # [åŸºç¡€è®¾æ–½]
â”‚   â”œâ”€â”€ data_structs.py         # æ ‡å‡†æ•°æ®ç»“æ„å®šä¹‰ (BarData, Order)
â”‚   â””â”€â”€ constants.py            # å…¨å±€å¸¸é‡ (BarFields)
â”œâ”€â”€ data_center/                # [æ•°æ®å·¥å‚]
â”‚   â”œâ”€â”€ collectors/             # æ•°æ®ä¸‹è½½é€‚é…å™¨ (QMT/Tushare/Qlib)
â”‚   â”œâ”€â”€ storage/                # æ•°æ®è½åœ° (Parquetæ–‡ä»¶ä»“åº“)
â”‚   â”‚   â”œâ”€â”€ market_data/        # æ—¥çº¿/åˆ†é’Ÿçº¿è¡Œæƒ…
â”‚   â”‚   â””â”€â”€ basic_info/         # é™æ€åŸºç¡€è¡¨ (stock.csv)
â”‚   â””â”€â”€ data_proxy.py           # ç»Ÿä¸€æ•°æ®è¯»å–æ¥å£
â”œâ”€â”€ strategy_pool/              # [ç­–ç•¥å¤§è„‘]
â”‚   â”œâ”€â”€ selectors/              # é€‰è‚¡æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ policy/             # ç­–ç•¥é€»è¾‘ä»£ç  (å¦‚: NPatternSelector)
â”‚   â”‚   â””â”€â”€ pool_storage/       # ç­–ç•¥äº§å‡ºç»“æœ (CSVè‚¡ç¥¨æ± ï¼ŒæŒ‰ç­–ç•¥ååˆ†æ–‡ä»¶å¤¹)
â”‚   â””â”€â”€ timers/                 # æ‹©æ—¶/äº¤æ˜“ä¿¡å·æ¨¡å—
â”œâ”€â”€ engines/                    # [æ‰§è¡Œå¼•æ“] (å¼€å‘ä¸­)
â”‚   â”œâ”€â”€ backtest/               # å›æµ‹å¼•æ“
â”‚   â””â”€â”€ trading/                # å®ç›˜äº¤æ˜“å¼•æ“ (å¯¹æ¥ QMT)
â”œâ”€â”€ scripts/                    # [ä»»åŠ¡è„šæœ¬] ç³»ç»Ÿçš„å…¥å£ (Crontab è°ƒåº¦)
â”‚   â”œâ”€â”€ run_daily_data.py       # æ¯æ—¥æ”¶ç›˜ï¼šæ•°æ®æ›´æ–°
â”‚   â””â”€â”€ run_daily_selection.py  # æ•°æ®æ›´æ–°åï¼šè¿è¡Œé€‰è‚¡
â””â”€â”€ toolbox/                    # [å·¥å…·ç®±] æ¶ˆæ¯æ¨é€ã€ç›‘æ§ã€æŠ¥è¡¨
```

-----

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

### 1\. ç¯å¢ƒå‡†å¤‡

æ¨èä½¿ç”¨ Anaconda ç®¡ç† Python ç¯å¢ƒï¼ˆå»ºè®® Python 3.8+ï¼‰ã€‚

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

**æ³¨æ„**ï¼šå¦‚æœä½ ä½¿ç”¨ QMT ä½œä¸ºæ•°æ®æº/äº¤æ˜“æ¥å£ï¼Œä½ éœ€è¦å¼•ç”¨ QMT è‡ªå¸¦çš„ Python åº“ (`xtquant`)ã€‚è¯·ç¡®ä¿ä½ çš„ Python ç¯å¢ƒèƒ½åŠ è½½ `xtquant`ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨ QMT è‡ªå¸¦çš„ Python è§£é‡Šå™¨ã€‚

### 2\. é…ç½®é¡¹ç›®

1.  æ‰“å¼€ `config/account_config.py`ã€‚
2.  é…ç½®ä½ çš„ QMT å®‰è£…è·¯å¾„ï¼ˆ`MINI_QMT_PATH`ï¼‰å’Œè´¦å·ä¿¡æ¯ã€‚
3.  ç¡®ä¿ `data_center/storage/basic_info/` ä¸‹å­˜åœ¨ `stock.csv`ï¼ˆåŸºç¡€è‚¡ç¥¨ä¿¡æ¯è¡¨ï¼ŒåŒ…å«è¡Œä¸šã€ä¸Šå¸‚çŠ¶æ€ç­‰ï¼‰ã€‚

### 3\. æ•°æ®æ›´æ–°

æœ¬ç³»ç»Ÿä½¿ç”¨è„šæœ¬åŒ–é©±åŠ¨ã€‚åœ¨æ¯æ—¥æ”¶ç›˜åï¼ˆæˆ–é¦–æ¬¡è¿è¡Œæ—¶ï¼‰ï¼Œè¿è¡Œæ•°æ®æ›´æ–°è„šæœ¬ï¼š

```bash
# è¯¥è„šæœ¬ä¼šè‡ªåŠ¨è°ƒç”¨ QMT æ¥å£ä¸‹è½½æœ€è¿‘ N å¤©æ•°æ®ï¼Œæ¸…æ´—å¹¶å­˜ä¸º Parquet
python scripts/run_daily_data.py
```

  * **äº§å‡º**ï¼š`data_center/storage/market_data/stock_daily/` ä¸‹ç”Ÿæˆ `000001.SZ.parquet` ç­‰æ–‡ä»¶ã€‚
  * **ç‰¹è‰²**ï¼šæ•°æ®ä¸­å·²è‡ªåŠ¨è®¡ç®—å¹¶è¡¥å…¨äº† `limit_up` (æ¶¨åœä»·) å’Œ `limit_down` (è·Œåœä»·)ã€‚

### 4\. è¿è¡Œé€‰è‚¡ç­–ç•¥

å½“æ•°æ®æ›´æ–°å®Œæˆåï¼Œè¿è¡Œé€‰è‚¡è„šæœ¬ï¼š

```bash
# è¿è¡Œé…ç½®å¥½çš„æ‰€æœ‰é€‰è‚¡ç­–ç•¥ (å¦‚ Nå­—ååŒ…ç­–ç•¥)
python scripts/run_daily_selection.py
```

  * **äº§å‡º**ï¼š`strategy_pool/selectors/pool_storage/{ç­–ç•¥å}/{æ—¥æœŸ}.csv`ã€‚
  * **ç»“æœ**ï¼šCSV ä¸­åŒ…å«é€‰å‡ºçš„è‚¡ç¥¨ä»£ç ã€å…¥é€‰ç†ç”±ã€æ¨¡å‹æ‰“åˆ†ç­‰ã€‚

-----

## ğŸ› ï¸ æ•°æ®è·å–ä¸æ‰©å±•

æœ¬æ¡†æ¶æ”¯æŒå¤šç§æ•°æ®æºæ¥å…¥ï¼Œæ ¸å¿ƒä»£ç ä½äº `data_center/collectors/`ã€‚

### å½“å‰æ”¯æŒ

  * **QMT (xtquant)**: é»˜è®¤é€‚é…å™¨ `adapter_qmt.py`ã€‚
      * é€»è¾‘ï¼šä¸‹è½½å†å²æ•°æ® -\> æ¸…æ´— -\> **è®¡ç®—ç²¾ç¡®æ¶¨è·Œåœ** -\> å­˜å…¥ Parquetã€‚
      * ä¼˜åŠ¿ï¼šå®ç›˜æ•°æ®æºï¼Œæ— éœ€é¢å¤–ä»˜è´¹ï¼Œæ”¯æŒ Tick çº§åˆæˆã€‚

### å¦‚ä½•æ‰©å±•å…¶ä»–æ•°æ®æº (å¦‚ Tushare)

1.  åœ¨ `data_center/collectors/` ä¸‹æ–°å»º `adapter_tushare.py`ã€‚
2.  å®ç° ETL é€»è¾‘ï¼Œç¡®ä¿è¾“å‡ºçš„ DataFrame åˆ—åç¬¦åˆ `common.data_structs.BarFields` å®šä¹‰çš„æ ‡å‡†ï¼š
      * `datetime` (ç´¢å¼•)
      * `code`
      * `open`, `high`, `low`, `close`, `volume`, `amount`
      * `adj_factor` (å¤æƒå› å­)
3.  åœ¨ `scripts/run_daily_data.py` ä¸­å¼•å…¥å¹¶è°ƒç”¨è¯¥ Adapterã€‚

-----

## ğŸ§  ç­–ç•¥å¼€å‘æŒ‡å—

### æ·»åŠ ä¸€ä¸ªæ–°çš„é€‰è‚¡ç­–ç•¥

1.  **æ–°å»ºæ–‡ä»¶**ï¼šåœ¨ `strategy_pool/selectors/policy/` ä¸‹æ–°å»º `my_strategy.py`ã€‚
2.  **ç»§æ‰¿åŸºç±»**ï¼š
    ```python
    from strategy_pool.selectors.policy.base_selector import SelectorBase

    class MyStrategy(SelectorBase):
        def __init__(self):
            super().__init__(strategy_name="my_super_strategy") # å®šä¹‰ç­–ç•¥å
        
        def run(self):
            # ... ä½ çš„é€‰è‚¡é€»è¾‘ ...
            # ... ç”Ÿæˆ result_df ...
            self.save_result(result_df) # è‡ªåŠ¨ä¿å­˜åˆ°å¯¹åº”æ–‡ä»¶å¤¹
    ```
3.  **æ³¨å†Œè¿è¡Œ**ï¼šåœ¨ `scripts/run_daily_selection.py` ä¸­å®ä¾‹åŒ–å¹¶è°ƒç”¨ `.run()`ã€‚

-----

## âš ï¸ æ³¨æ„äº‹é¡¹

1.  **æ¶¨è·Œåœç²¾åº¦**ï¼šAè‚¡æ¶¨è·Œåœè®¡ç®—é‡‡ç”¨ç‰¹æ®Šçš„å››èˆäº”å…¥è§„åˆ™ï¼ˆéé“¶è¡Œå®¶èˆå…¥ï¼‰ï¼Œæœ¬æ¡†æ¶åœ¨ `adapter_qmt.py` ä¸­å·²åšç‰¹æ®Šå¤„ç†ï¼Œè¯·å‹¿éšæ„ä¿®æ”¹ç›¸å…³ç®—æ³•ã€‚
2.  **æ–‡ä»¶è¦†ç›–**ï¼šç›®å‰æ•°æ®æ›´æ–°è„šæœ¬é‡‡ç”¨è¦†ç›–å†™å…¥æ¨¡å¼ï¼ˆå…¨é‡æ›´æ–°æœ€è¿‘ N å¤©ï¼‰ï¼Œé€‚åˆä¸­ä½é¢‘ç­–ç•¥ã€‚å¦‚éœ€æ›´é«˜æ€§èƒ½ï¼Œå¯æ”¹ä¸º Append å¢é‡å†™å…¥æ¨¡å¼ã€‚
3.  **è·¯å¾„å¼•ç”¨**ï¼šåœ¨ä»£ç ä¸­å¼•ç”¨æ–‡ä»¶è·¯å¾„æ—¶ï¼Œè¯·åŠ¡å¿…ä½¿ç”¨ `config.path_config` ä¸­çš„å˜é‡ï¼Œä¸è¦ç¡¬ç¼–ç ç»å¯¹è·¯å¾„ã€‚

-----

### ğŸ“ TODO List
  - [ ] å…¶ä»–æ•°æ®æºè·å–æ¥å£å¯¹æ¥
  - [ ] å®ç›˜äº¤æ˜“å¼•æ“ (Engine) å¯¹æ¥
  - [ ] ç›˜ä¸­åˆ†é’Ÿçº§æ‹©æ—¶ä¿¡å·
  - [ ] é£ä¹¦/é’‰é’‰ æ¶ˆæ¯æ¨é€é›†æˆ
  - [ ] ç®€å•çš„ HTML é€‰è‚¡æ—¥æŠ¥ç”Ÿæˆ
